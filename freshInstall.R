#create a function to check for installed packages and install them if they are not installed
install <- function(packages){
  new.packages <- packages[!(packages %in% installed.packages()[, "Package"])]
  if (length(new.packages)) 
    install.packages(new.packages, dependencies = TRUE,lib="/anaconda3/lib/R/library")
  sapply(packages, require, character.only = TRUE)
}

# usage
# required.packages <- c("ggplot2", "dplyr", "reshape2", "devtools", "shiny", "shinydashboard", "caret","igraph","randomForest","gbm","tm","forecast","knitr","Rcpp","stringr","lubridate","manipulate","Scale","sqldf","RMongo","foreign","googleVis","XML","roxygen2","parallel","car","igraph","plyr","rcytoscapejs","networkD3","network","reshape2","intergraph","plotly")
required.packages <- c("abind","acepack","ade4"," alpaca"," ALPACA"," annotate","AnnotationDbi","AnnotationForge  ape","  aplpack","askpass","assertthat"," AUC","  autoplotly"," backports","  base64enc","  bc3net"," bfast"," BH","   bibtex"," BINCO","BINCOR"," bindr","bindrcpp","Biobase","BiocGenerics","BiocInstaller" ," Biostrings"," bit"," bit64","bitops"," blob"," bold"," brew"," broom","BrowserViz","c3net","callr","car","  carData","Category","caTools","CDF.PSIdekick","cellranger"," checkmate","  classInt","cli","  clipr","clisymbols"," clusteval","  cmapR","cmprsk"," coda"," colorspace"," colourpicker","condor"," contfrac","corpcor","cowplot","crayon"," crosstalk","  crul"," csvy"," curl"," data.table"," data.tree","  DBI","  dbplyr"," ddCt"," debugme","degreenet","  dendextend"," DEoptimR","desc"," deSolve","devtools","DiagrammeR"," dichromat","  digest"," diptest","doBy"," doParallel"," dostats","downloader"," dplyr","DT","   dynamicTreeCut   e1071","ellipse","ellipsis"," elliptic","evaluate","exactRankTests   fabCI","FactoMineR"," fansi","farver"," fastcluster","fastmatch","  FC1000"," feather","fit.models"," flashClust"," flexmix","forcats","foreach","forecast","formatR"," Formula","fpc","  fracdiff","fs","   fst","  futile.logger","futile.options   gclus","gdata","  geiger"," GENEAread","  genefilter"," generics","geometry","geosphere","  ggbiplot","ggdendro","ggforce"," ggfortify","  GGIR"," ggmap","ggplot2","ggpubr"," ggraph"," ggrepel","ggsci","ggsignif","ggtree"," gh","git2r","githubinstall","glmnet"," glue"," GO.db","GOstats","gplots"," graph","gridBase","gridExtra","  gridSVG","GSEABase","gtable"," gtools"," h5","   haven","  heatmap3","heatmaply","  hexbin"," hexView","highr","HiveR","Hmisc","hms","  htmlTable","  htmltools","  htmlwidgets","httpcode","httpuv"," httr"," hypergeo","igraph"," influenceR"," infotheo"," ini","  inline"," insight","intergraph"," intervals","  IRanges","irlba","iterators","  jpeg"," jsonlite","KEGGgraph","  KEGGREST","Kendall","kernlab","km.ci","KMsurv"," knitr","labeling"," lambda.r","lars"," later","latticeExtra","lava"," lazyeval","leaps","limma","lme4"," lmtest"," lpSolve","lubridate","  magic","magrittr","manipulateWidget mapproj","maps"," maptools","markdown","MatrixModels","matrixStats","maxstat","mclust"," memoise","mime"," miniUI"," minqa","  mmap"," mnormt"," mockery","modelr"," modeltools"," munsell","mvtnorm","natserv","ncbit","  network","networkD3","  nloptr"," NMF","  numDeriv","oaqc"," openssl","openxlsx","orca"," org.Hs.eg.db","packrat","pathfindR","  pathview","pbkrtest","pcaPP","phangorn","pillar"," pkgbuild"," pkgconfig","  pkgload","pkgmaker","PKI","  plogr","plotly"," plotROC","plyr"," png"," polyclip","polynom","poweRlaw","prabclus","pracma"," praise"," prettyunits","pROC"," processx","prodlim","progress","promises","proto","ps","   psych","purrr","qap"," quadprog","quantmod","quantreg","R.matlab","R.methodsS3","R.oo"," R.utils","R6"," radarchart"," raster"," RBGL"," RBioFabric"," rcmdcheck","  RColorBrewer","Rcpp"," RcppArmadillo","RcppEigen"," RcppProgress","RCurl","RCyjs","rcytoscapejs","readODS","readr","readxl"," registry","rematch","remotes","rentrez"," reprex"," reshape","reshape2","reticulate"," rgeos","rgexf","RgoogleMaps","Rgraphviz","  rhdf5","  rio","  ritis","rjson","RJSONIO","rlang","rmarkdown","  rmatio"," rncl"," rngtools"," robust"," robustbase"," Rook"," rope"," rotl"," rprojroot","  rrcov","rredlist","RRPP"," rsconnect","  RSQLite","rstudioapi"," ruv","  RUVnormalize","RUVnormalizeData rvcheck","rvest","S4Vectors","  sandwich","scales"," scatterplot3d","selectr","seriation","  sessioninfo","shiny","shinyFiles"," shinyjs"," shinythemes","sjlabelled"," sjmisc"," smglr","snahelper","  solrium","sourcetools","sp","   spacetime","  SparseM","spData"," SQUAREM","stringi","stringr","strucchange","subplex","survminer","  survMisc"," sys","  TDAmapper","  testthat","tibble"," tidyr","tidyselect"," tidyverse","  timeDate","tinytex"," tkrgl","tree"," treeio"," triebeard","  trimcluster","tseries","TSP","  TTR","  tweenr"," units","UpSetR"," urca"," urltools","uroot","usethis","utf8"," uuid"," vctrs","  VennDiagram","VGAM"," viridis","viridisLite","visNetwork"," webshot","whisker","WikidataR","  WikipediR","  wikitaxa","withr","worrms"," xfun"," XML","  xml2"," xmlparsedata","xopen","xtable"," xts","  XVector","yaml"," zeallot","zip","  zlibbioc","zoo")
install(required.packages)

# required.packages <- c("Rcpp","httpuv","mime","jsonlite","digest","htmltools","xtable","R6","Cairo","shiny")
# install(required.packages)

